{"cells": [{"cell_type": "code", "execution_count": 4, "metadata": {}, "outputs": [{"name": "stdout", "output_type": "stream", "text": ["/work/mapped-data/G00000002\n"]}, {"data": {"text/html": ["<?xml version=\"1.0\" ?><table border=\"0\" id=\"meta-file-table-replaced\">", "            <thead>", "   ", "<tr>                 <td>LINE_COUNT</td>                 <td>FILE_ACC_HTML</td>                 <td>PURPOSE</td>                 <td>FULL_PATH</td>                 <td>SIZE</td>            </tr>", "", "<tr>", "        ", "         <td>LINE_COUNT</td>", "        ", "         <td>FILE_ACC_HTML</td>", "        ", "         <td>PURPOSE</td>", "        ", "         <td>FULL_PATH</td>", "        ", "         <td>SIZE</td>", "        ", "    </tr>", "    </thead>", "            ", "            ", "    <tr>", "        ", "         <td>NA</td>", "        ", "         <td><a href=\"OUTPUT/GENOME.fasta\">OUTPUT/GENOME.fasta</a></td>", "        ", "         <td>[IGV-&gt;LoadGenomeFromURL] genomic fasta</td>", "        ", "         <td>/work/mapped-data/G00000002/OUTPUT/GENOME.fasta</td>", "        ", "         <td>2.59GB</td>", "        ", "    </tr>", "    ", "            ", "            ", "    <tr>", "        ", "         <td>NA</td>", "        ", "         <td><a href=\"OUTPUT/QUADRON_OUTPUT/G4_ALL.bed\">OUTPUT/QUADRON_OUTPUT/G4_ALL.bed</a></td>", "        ", "         <td> [IGV-&gt;DragDrop] G-quarduplex prediced by QUADRON</td>", "        ", "         <td>/work/mapped-data/G00000002/OUTPUT/QUADRON_OUTPUT/G4_ALL.bed</td>", "        ", "         <td>31.99MB</td>", "        ", "    </tr>", "    ", "            ", "            ", "    <tr>", "        ", "         <td>NA</td>", "        ", "         <td><a href=\"OUTPUT/ANNOTATION.gtf\">OUTPUT/ANNOTATION.gtf</a></td>", "        ", "         <td>[IGV-&gt;DragDrop] annotated transcripts</td>", "        ", "         <td>/work/mapped-data/G00000002/OUTPUT/ANNOTATION.gtf</td>", "        ", "         <td>541.27MB</td>", "        ", "    </tr>", "    ", "            ", "            ", "    <tr>", "        ", "         <td>NA</td>", "        ", "         <td><a href=\"OUTPUT/ANNOTATION_FASTA/CDNA.fasta\">OUTPUT/ANNOTATION_FASTA/CDNA.fasta</a></td>", "        ", "         <td>[beforeFiltering] fasta file to put in riboseqr</td>", "        ", "         <td>/work/mapped-data/G00000002/OUTPUT/ANNOTATION_FASTA/CDNA.fasta</td>", "        ", "         <td>344.88MB</td>", "        ", "    </tr>", "    ", "            ", "            ", "    <tr>", "        ", "         <td>NA</td>", "        ", "         <td><a href=\"OUTPUT/ANNOTATION_FASTA_FILTERED/CDNA.fasta\">OUTPUT/ANNOTATION_FASTA_FILTERED/CDNA.fasta</a></td>", "        ", "         <td>[filtered;NM_NP_NR_in] fasta file to put in riboseqr</td>", "        ", "         <td>/work/mapped-data/G00000002/OUTPUT/ANNOTATION_FASTA_FILTERED/CDNA.fasta</td>", "        ", "         <td>95.42MB</td>", "        ", "    </tr>", "    ", "            ", "            ", "    <tr>", "        ", "         <td>NA</td>", "        ", "         <td><a href=\"OUTPUT/ANNOTATION_FASTA_FILTERED_NMNP/CDNA.fasta\">OUTPUT/ANNOTATION_FASTA_FILTERED_NMNP/CDNA.fasta</a></td>", "        ", "         <td>[filtered;NM_NP_in] fasta file to put in riboseqr</td>", "        ", "         <td>/work/mapped-data/G00000002/OUTPUT/ANNOTATION_FASTA_FILTERED_NMNP/CDNA.fasta</td>", "        ", "         <td>88.64MB</td>", "        ", "    </tr>", "    ", "            ", "            ", "    <tr>", "        ", "         <td>NA</td>", "        ", "         <td>OUTPUT/GENOME.BOWTIE1_INDEX</td>", "        ", "         <td> bowtie1 index</td>", "        ", "         <td>[DO-NOT-EXIST]</td>", "        ", "         <td>-1</td>", "        ", "    </tr>", "    ", "            ", "            ", "    <tr>", "        ", "         <td>NA</td>", "        ", "         <td>OUTPUT/GENOME.STAR_INDEX</td>", "        ", "         <td> STAR index produced with ANNOTATION.gtf</td>", "        ", "         <td>[DO-NOT-EXIST]</td>", "        ", "         <td>-1</td>", "        ", "    </tr>", "    ", "            ", "            ", "    <tr>", "        ", "         <td>13966</td>", "        ", "         <td><a href=\"../../reports/M20190726/main.html\">../../reports/M20190726/main.html</a></td>", "        ", "         <td> outdated mapped results for &quot;/gdna-mm10/&quot;</td>", "        ", "         <td>/work/reports/M20190726/main.html</td>", "        ", "         <td>297.65KB</td>", "        ", "    </tr>", "    ", "            ", "            ", "    <tr>", "        ", "         <td>13910</td>", "        ", "         <td><a href=\"../../reports/M20190723/main.html\">../../reports/M20190723/main.html</a></td>", "        ", "         <td>  Comparing bowtie1 and STAR output for 6 samples</td>", "        ", "         <td>/work/reports/M20190723/main.html</td>", "        ", "         <td>789.89KB</td>", "        ", "    </tr>", "    ", "            ", "            ", "    <tr>", "        ", "         <td>NA</td>", "        ", "         <td><a href=\"src\">src</a></td>", "        ", "         <td> Code</td>", "        ", "         <td>/work/mapped-data/G00000002/src/</td>", "        ", "         <td>FOLDER</td>", "        ", "    </tr>", "    ", "            </table>"], "text/plain": ["<IPython.core.display.HTML object>"]}, "execution_count": 4, "metadata": {}, "output_type": "execute_result"}], "source": ["pyext.pd.set_option('display.max_colwidth',500)\n", "# pyext.dir__indexify(\"/work/reference-database/salmonella-typhimurium/G00000001/\")[['FILEACC']].reset_index(drop=1)\n", "buf = '''\n", "FILE_ACC,PURPOSE,FULL_PATH\n", "OUTPUT/GENOME.fasta,[IGV->LoadGenomeFromURL] genomic fasta,\n", "\n", "'''\n", "\n", "import path\n", "df = pyext.read__buffer(buf,ext='csv',guess_index=0)\n", "# df = df.sort_values(by=df['PURPOSE'].str[:3].tolist())\n", "# OUTDIR = \"/work/reference-database/salmonella-typhimurium/G00000001\"\n", "\n", "print OUTDIR\n", "it = pyext.validate__fileTable(df,OUTDIR)\n", "# it = pyext.validate__fileTable(df,\"/work/reports/G00000002/\")\n", "[(d.pop('index',None),) for d in it]\n", "[(d.pop('FILE_ACC',None),) for d in it]\n", "pyext.ipd.HTML(pyext.dicts__toHtmlTable(it,attrs={\"border\":1,\"id\":\"meta-file-table\"}))\n", "# pyext.ipd.HTML(pyext.rows__toTable(map(pyext.list__toHtmlRow,[x.values() for x in it])))"]}], "metadata": {"kernelspec": {"display_name": "Python 2", "language": "python2", "name": "python2"}, "language_info": {"codemirror_mode": {"name": "ipython", "version": 2}, "file_extension": ".py", "mimetype": "text/x-python", "name": "python", "nbconvert_exporter": "python", "pygments_lexer": "ipython2", "version": "2.7.15+"}}, "nbformat": 4, "nbformat_minor": 2}